{"version":3,"file":"serviceRoutes.js","sources":["routes/serviceRoutes.ts"],"sourceRoot":"/","sourcesContent":["// src/routes/serviceRoutes.ts\r\nimport express from 'express';\r\nimport { ServiceController } from '../controllers/serviceController';\r\nimport { ServiceService } from '../services/serviceService';\r\nimport { AppointmentController } from '../controllers/appointmentController';\r\nimport { AppointmentService } from '../services/appointmentService';\r\nimport { DoctorController } from '../controllers/doctorController';\r\nimport { DoctorService } from '../services/doctorService';\r\nimport { authenticateToken, authorizeRole } from '../middlwares/auth';\r\n\r\nconst router = express.Router();\r\nconst serviceService = new ServiceService();\r\nconst serviceController = new ServiceController(serviceService);\r\n\r\nconst appointmentService = new AppointmentService();\r\nconst appointmentController = new AppointmentController(appointmentService);\r\n\r\nconst doctorService = new DoctorService();\r\nconst doctorController = new DoctorController(doctorService);\r\n\r\nrouter.get('/', serviceController.getAllServices);\r\nrouter.get('/:id', serviceController.getServiceById);\r\nrouter.post('/create', authenticateToken, authorizeRole(['admin']), serviceController.createService);\r\nrouter.put('/update/:id', authenticateToken, authorizeRole(['admin']), serviceController.updateService);\r\n\r\n\r\nrouter.post('/appointments', authenticateToken, appointmentController.createAppointment);\r\nrouter.get('/appointments/list', authenticateToken, appointmentController.getAllAppointments);\r\nrouter.get('/appointments/details/:id', authenticateToken, appointmentController.getAppointmentById);\r\nrouter.put('/appointments/update/:id', authenticateToken, authorizeRole(['doctor']), appointmentController.updateAppointment);\r\nrouter.get('/appointments/booked', authenticateToken, appointmentController.getBookedTimes);\r\nrouter.delete('/appointments/:id', authenticateToken, appointmentController.deleteAppointment);\r\n\r\n\r\nrouter.post('/:id/add/doctors', authenticateToken, authorizeRole(['admin']), doctorController.assignDoctorToService);\r\nrouter.delete('/:id/remove/doctors/:doctorId', authenticateToken, authorizeRole(['admin']), doctorController.removeDoctorFromService);\r\nrouter.get('/:id/doctors', authenticateToken, doctorController.getDoctorsForService);\r\nrouter.get('/:id/services', authenticateToken, serviceController.getServicesForDoctor);\r\n\r\n\r\nexport default router;\r\n"],"names":[],"mappings":";;;;;;;AAAA,8BAA8B;AAC9B,sDAA8B;AAC9B,wEAAqE;AACrE,+DAA4D;AAC5D,gFAA6E;AAC7E,uEAAoE;AACpE,sEAAmE;AACnE,6DAA0D;AAC1D,6CAAsE;AAEtE,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAChC,MAAM,cAAc,GAAG,IAAI,+BAAc,EAAE,CAAC;AAC5C,MAAM,iBAAiB,GAAG,IAAI,qCAAiB,CAAC,cAAc,CAAC,CAAC;AAEhE,MAAM,kBAAkB,GAAG,IAAI,uCAAkB,EAAE,CAAC;AACpD,MAAM,qBAAqB,GAAG,IAAI,6CAAqB,CAAC,kBAAkB,CAAC,CAAC;AAE5E,MAAM,aAAa,GAAG,IAAI,6BAAa,EAAE,CAAC;AAC1C,MAAM,gBAAgB,GAAG,IAAI,mCAAgB,CAAC,aAAa,CAAC,CAAC;AAE7D,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,iBAAiB,CAAC,cAAc,CAAC,CAAC;AAClD,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,iBAAiB,CAAC,cAAc,CAAC,CAAC;AACrD,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,wBAAiB,EAAE,IAAA,oBAAa,EAAC,CAAC,OAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC,aAAa,CAAC,CAAC;AACrG,MAAM,CAAC,GAAG,CAAC,aAAa,EAAE,wBAAiB,EAAE,IAAA,oBAAa,EAAC,CAAC,OAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC,aAAa,CAAC,CAAC;AAGxG,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,wBAAiB,EAAE,qBAAqB,CAAC,iBAAiB,CAAC,CAAC;AACzF,MAAM,CAAC,GAAG,CAAC,oBAAoB,EAAE,wBAAiB,EAAE,qBAAqB,CAAC,kBAAkB,CAAC,CAAC;AAC9F,MAAM,CAAC,GAAG,CAAC,2BAA2B,EAAE,wBAAiB,EAAE,qBAAqB,CAAC,kBAAkB,CAAC,CAAC;AACrG,MAAM,CAAC,GAAG,CAAC,0BAA0B,EAAE,wBAAiB,EAAE,IAAA,oBAAa,EAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,qBAAqB,CAAC,iBAAiB,CAAC,CAAC;AAC9H,MAAM,CAAC,GAAG,CAAC,sBAAsB,EAAE,wBAAiB,EAAE,qBAAqB,CAAC,cAAc,CAAC,CAAC;AAC5F,MAAM,CAAC,MAAM,CAAC,mBAAmB,EAAE,wBAAiB,EAAE,qBAAqB,CAAC,iBAAiB,CAAC,CAAC;AAG/F,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,wBAAiB,EAAE,IAAA,oBAAa,EAAC,CAAC,OAAO,CAAC,CAAC,EAAE,gBAAgB,CAAC,qBAAqB,CAAC,CAAC;AACrH,MAAM,CAAC,MAAM,CAAC,+BAA+B,EAAE,wBAAiB,EAAE,IAAA,oBAAa,EAAC,CAAC,OAAO,CAAC,CAAC,EAAE,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;AACtI,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,wBAAiB,EAAE,gBAAgB,CAAC,oBAAoB,CAAC,CAAC;AACrF,MAAM,CAAC,GAAG,CAAC,eAAe,EAAE,wBAAiB,EAAE,iBAAiB,CAAC,oBAAoB,CAAC,CAAC;AAGvF,kBAAe,MAAM,CAAC","debug_id":"1cb7f9d1-3de1-5f02-b1c9-d577b14d24db"}