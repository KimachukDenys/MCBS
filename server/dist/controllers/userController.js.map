{"version":3,"file":"userController.js","sources":["controllers/userController.ts"],"sourceRoot":"/","sourcesContent":["import { Request, Response, NextFunction } from 'express';\r\nimport { injectable, inject } from 'tsyringe';\r\nimport { UserService } from '../services/userService';\r\n\r\n@injectable()\r\nexport class UserController {\r\n  constructor(@inject(UserService) private userService: UserService) {}\r\n\r\n  registerUser   = (req: Request, res: Response, next: NextFunction) =>\r\n    this.userService.registerUser(req.body)\r\n      .then(result => res.status(201).json(result))\r\n      .catch(next);\r\n\r\n  loginUser      = (req: Request, res: Response, next: NextFunction) =>\r\n    this.userService.loginUser(req.body.email, req.body.password)\r\n      .then(result => res.status(200).json(result))\r\n      .catch(next);\r\n\r\n  getUserProfile = (req: Request, res: Response, next: NextFunction) =>\r\n    this.userService.getUserProfile(Number(req.params.id))\r\n      .then(user => res.status(200).json(user))\r\n      .catch(next);\r\n\r\n  editUserProfile = (req: Request, res: Response, next: NextFunction) => {\r\n    const userId = Number(req.params.id);\r\n    const data   = { ...req.body, photoFileName: req.file?.filename };\r\n    this.userService.editUserProfile(userId, data)\r\n      .then(u => res.status(200).json(u))\r\n      .catch(next);\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AACA,uCAA8C;AAC9C,yDAAsD;AAG/C,IAAM,cAAc,GAApB,MAAM,cAAc;IACzB,YAAiC,WAAgC;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAEjE,iBAAY,GAAK,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE,CACnE,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC;aACpC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC5C,KAAK,CAAC,IAAI,CAAC,CAAC;QAEjB,cAAS,GAAQ,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE,CACnE,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;aAC1D,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC5C,KAAK,CAAC,IAAI,CAAC,CAAC;QAEjB,mBAAc,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE,CACnE,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;aACnD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACxC,KAAK,CAAC,IAAI,CAAC,CAAC;QAEjB,oBAAe,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YACpE,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACrC,MAAM,IAAI,GAAK,EAAE,GAAG,GAAG,CAAC,IAAI,EAAE,aAAa,EAAE,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE,CAAC;YAClE,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,MAAM,EAAE,IAAI,CAAC;iBAC3C,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBAClC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjB,CAAC,CAAC;IAvBkE,CAAC;CAwBtE,CAAA;AAzBY,wCAAc;yBAAd,cAAc;IAD1B,IAAA,qBAAU,GAAE;IAEE,WAAA,IAAA,iBAAM,EAAC,yBAAW,CAAC,CAAA;qCAAsB,yBAAW;GADtD,cAAc,CAyB1B","debug_id":"9241145a-6495-5dcd-8983-128de4ac57d3"}