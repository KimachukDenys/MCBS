{"version":3,"file":"upload.js","sources":["middlwares/upload.ts"],"sourceRoot":"/","sourcesContent":["import multer from 'multer';\r\nimport path from 'path';\r\n\r\n// Налаштування зберігання файлів за допомогою multer\r\nconst storage = multer.diskStorage({\r\n  destination: (req, file, cb) => {\r\n    cb(null, 'images/'); // Зберігаємо файли в папці images\r\n  },\r\n  filename: (req, file, cb) => {\r\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\r\n    cb(null, file.fieldname + '-' + uniqueSuffix + path.extname(file.originalname)); // Генеруємо унікальне ім'я для файлу\r\n  }\r\n});\r\n\r\nconst upload = multer({ storage });\r\n\r\n// Middleware для обробки одного файлу (з полем 'image')\r\nexport const uploadImage = upload.single('image');\r\n"],"names":[],"mappings":";;;;;;;;AAAA,oDAA4B;AAC5B,gDAAwB;AAExB,qDAAqD;AACrD,MAAM,OAAO,GAAG,gBAAM,CAAC,WAAW,CAAC;IACjC,WAAW,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE;QAC7B,EAAE,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,kCAAkC;IACzD,CAAC;IACD,QAAQ,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE;QAC1B,MAAM,YAAY,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;QACxE,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,YAAY,GAAG,cAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,qCAAqC;IACxH,CAAC;CACF,CAAC,CAAC;AAEH,MAAM,MAAM,GAAG,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,CAAC,CAAC;AAEnC,wDAAwD;AAC3C,QAAA,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC","debug_id":"af6c134f-9783-5941-bf53-2e4db156ebb0"}