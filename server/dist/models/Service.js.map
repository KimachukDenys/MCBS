{"version":3,"file":"Service.js","sources":["models/Service.ts"],"sourceRoot":"/","sourcesContent":["import { DataTypes, Model, Optional, \r\n  BelongsToManyAddAssociationMixin, \r\n  BelongsToManyRemoveAssociationMixin, \r\n  BelongsToManyGetAssociationsMixin\r\n} from 'sequelize';\r\nimport sequelize from '../config/database';\r\nimport Category from './Categories';\r\nimport User from './User';\r\n\r\ninterface ServiceAttributes {\r\n  id: number;\r\n  title: string;\r\n  description: string;\r\n  price: number;\r\n  imagePath?: string | null;\r\n  isHidden: boolean;\r\n  categoryId?: number | null;\r\n}\r\n\r\ninterface ServiceCreationAttributes extends Optional<ServiceAttributes, 'id'> {}\r\n\r\nclass Service extends Model<ServiceAttributes, ServiceCreationAttributes> implements ServiceAttributes {\r\n  public id!: number;\r\n  public title!: string;\r\n  public description!: string;\r\n  public price!: number;\r\n  public imagePath!: string | null;\r\n  public isHidden!: boolean;\r\n  public categoryId!: number | null;\r\n  public doctors?: User[]; \r\n  \r\n  // Додаємо асоціації для лікарів\r\n  public addDoctor!: BelongsToManyAddAssociationMixin<User, number>;\r\n  public removeDoctor!: BelongsToManyRemoveAssociationMixin<User, number>;\r\n  public getDoctors!: BelongsToManyGetAssociationsMixin<User>;\r\n\r\n  public readonly createdAt!: Date;\r\n  public readonly updatedAt!: Date;\r\n}\r\n\r\nService.init(\r\n  {\r\n    id: {\r\n      type: DataTypes.INTEGER,\r\n      primaryKey: true,\r\n      autoIncrement: true,\r\n    },\r\n    title: {\r\n      type: DataTypes.STRING,\r\n      allowNull: false,\r\n    },\r\n    description: {\r\n      type: DataTypes.TEXT,\r\n      allowNull: false,\r\n    },\r\n    price: {\r\n      type: DataTypes.FLOAT,\r\n      allowNull: false,\r\n    },\r\n    imagePath: {\r\n      type: DataTypes.STRING,\r\n      allowNull: true,\r\n    },\r\n    isHidden: {\r\n      type: DataTypes.BOOLEAN,\r\n      defaultValue: false,\r\n    },\r\n    categoryId: {\r\n      type: DataTypes.INTEGER,\r\n      allowNull: true,\r\n      references: {\r\n        model: Category,\r\n        key: 'id',\r\n      },\r\n    },\r\n  },\r\n  {\r\n    sequelize,\r\n    modelName: 'Service',\r\n    tableName: 'services',\r\n    timestamps: true,\r\n  }\r\n);\r\n\r\n\r\nexport default Service;\r\n"],"names":[],"mappings":";;;;;;;AAAA,yCAImB;AACnB,kEAA2C;AAC3C,8DAAoC;AAepC,MAAM,OAAQ,SAAQ,iBAAmD;CAiBxE;AAED,OAAO,CAAC,IAAI,CACV;IACE,EAAE,EAAE;QACF,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,UAAU,EAAE,IAAI;QAChB,aAAa,EAAE,IAAI;KACpB;IACD,KAAK,EAAE;QACL,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,WAAW,EAAE;QACX,IAAI,EAAE,qBAAS,CAAC,IAAI;QACpB,SAAS,EAAE,KAAK;KACjB;IACD,KAAK,EAAE;QACL,IAAI,EAAE,qBAAS,CAAC,KAAK;QACrB,SAAS,EAAE,KAAK;KACjB;IACD,SAAS,EAAE;QACT,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,IAAI;KAChB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,YAAY,EAAE,KAAK;KACpB;IACD,UAAU,EAAE;QACV,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,IAAI;QACf,UAAU,EAAE;YACV,KAAK,EAAE,oBAAQ;YACf,GAAG,EAAE,IAAI;SACV;KACF;CACF,EACD;IACE,SAAS,EAAT,kBAAS;IACT,SAAS,EAAE,SAAS;IACpB,SAAS,EAAE,UAAU;IACrB,UAAU,EAAE,IAAI;CACjB,CACF,CAAC;AAGF,kBAAe,OAAO,CAAC","debug_id":"06060359-0246-519f-93cd-921faa2ae991"}