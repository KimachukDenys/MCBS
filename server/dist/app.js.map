{"version":3,"file":"app.js","sources":["app.ts"],"sourceRoot":"/","sourcesContent":["import 'reflect-metadata';\r\nimport './instrument';\r\nimport http from 'http';\r\nimport express from 'express';\r\nimport morgan from 'morgan';\r\nimport cors from 'cors';\r\nimport userRoutes from './routes/userRoutes'; \r\nimport { errorHandler } from './middlwares/errorHandler'; \r\nimport serviceRoutes from './routes/serviceRoutes'; \r\nimport reviewRoutes from './routes/reviewRoutes';\r\nimport categoryRoutes from './routes/categoryRoutes';\r\nimport path from 'path';\r\n\r\nconst Sentry = require(\"@sentry/node\");\r\n\r\n\r\n\r\nSentry.init({\r\n  dsn: \"https://a9a7794dda685872fb15413536889606@o4509362786795520.ingest.de.sentry.io/4509362790465616\",\r\n  // Setting this option to true will send default PII data to Sentry.\r\n  // For example, automatic IP address collection on events\r\n  sendDefaultPii: true,\r\n});\r\n\r\nconst app = express();\r\n\r\n\r\n// Мідлвари\r\napp.use(cors());\r\napp.use(express.json());\r\napp.use(morgan('dev'));\r\n\r\n\r\n// Налаштування для доступу до папки images\r\napp.use('/images', express.static(path.join(__dirname, '../images')));\r\n\r\n// Роутер\r\napp.use('/api/users', userRoutes); \r\napp.use('/api/services', serviceRoutes);\r\napp.use('/api/categories', categoryRoutes); \r\napp.use('/api/reviews', reviewRoutes)\r\n\r\n// 404\r\napp.use((req, res, next) => {\r\n  res.status(404).json({ message: 'Route not found' });\r\n});\r\n\r\n\r\n// 400 404 409 500\r\napp.use(errorHandler);\r\n\r\nSentry.setupExpressErrorHandler(app);\r\nexport default app;\r\n"],"names":[],"mappings":";;;;;;;AAAA,4BAA0B;AAC1B,wBAAsB;AAEtB,sDAA8B;AAC9B,oDAA4B;AAC5B,gDAAwB;AACxB,qEAA6C;AAC7C,4DAAyD;AACzD,2EAAmD;AACnD,yEAAiD;AACjD,6EAAqD;AACrD,gDAAwB;AAExB,MAAM,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAIvC,MAAM,CAAC,IAAI,CAAC;IACV,GAAG,EAAE,iGAAiG;IACtG,oEAAoE;IACpE,yDAAyD;IACzD,cAAc,EAAE,IAAI;CACrB,CAAC,CAAC;AAEH,MAAM,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;AAGtB,WAAW;AACX,GAAG,CAAC,GAAG,CAAC,IAAA,cAAI,GAAE,CAAC,CAAC;AAChB,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,IAAA,gBAAM,EAAC,KAAK,CAAC,CAAC,CAAC;AAGvB,2CAA2C;AAC3C,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,iBAAO,CAAC,MAAM,CAAC,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC;AAEtE,SAAS;AACT,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,oBAAU,CAAC,CAAC;AAClC,GAAG,CAAC,GAAG,CAAC,eAAe,EAAE,uBAAa,CAAC,CAAC;AACxC,GAAG,CAAC,GAAG,CAAC,iBAAiB,EAAE,wBAAc,CAAC,CAAC;AAC3C,GAAG,CAAC,GAAG,CAAC,cAAc,EAAE,sBAAY,CAAC,CAAA;AAErC,MAAM;AACN,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IACzB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;AACvD,CAAC,CAAC,CAAC;AAGH,kBAAkB;AAClB,GAAG,CAAC,GAAG,CAAC,2BAAY,CAAC,CAAC;AAEtB,MAAM,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC;AACrC,kBAAe,GAAG,CAAC","debug_id":"d41dc70c-77ed-559b-83f5-fb379d2888a4"}